{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/QuantityPerPage/QuantityPerPage.jsx","components/Searchbar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","pixabay-api.js","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","components/App.js","index.js","components/Searchbar/SearchBar.module.css"],"names":["module","exports","QuantityPerPage","state","value","onChangeValue","e","target","setState","prevProps","prevState","this","props","onChange","className","name","id","Component","SearchBar","query","handleChangeQuery","currentTarget","handleSubmitForm","preventDefault","onSubmitForm","s","Searchbar","SearchForm","onSubmit","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChangeQuantity","ImageGalleryItem","previewUrl","imageUrl","onClickImage","onClick","src","alt","imageImageGalleryItem","data-url","width","ImageGallery","galleryPhotos","onOpenModal","map","largeImageURL","webformatURL","axios","defaults","baseURL","galleryApi","API_KEY","fetchGallery","pageNumber","quantity","get","then","data","hits","result","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleBackDropClick","window","addEventListener","removeEventListener","createPortal","Overlay","ModalButtonWrapper","color","size","App","loaderContainer","visible","isLoading","height","timeout","gallery","page","searchQuery","showModal","modalImageUrl","toggleModal","pixabayApi","images","finally","handleLoadMoreBtn","handleOpenModal","url","dataset","onChangeQuery","scrollToNextPage","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a1b510b1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1gDEw\",\"imageImageGalleryItem\":\"ImageGalleryItem_imageImageGalleryItem__1KVIR\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__dnaBf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__bXwrc\",\"Modal\":\"Modal_Modal__2fPmH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2StTp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3PJPV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"Loader_loaderContainer__2Uy5q\"};","import { Component } from 'react';\nimport propTypes from 'prop-types';\n\nexport default class QuantityPerPage extends Component {\n  state = {\n    value: 8,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { value } = this.state;\n\n    if (prevState.value !== value) {\n      this.props.onChange(value);\n    }\n  }\n\n  onChangeValue = e => {\n    const value = e.target.value;\n    this.setState({ value: value });\n  };\n\n  render() {\n    return (\n      <select\n        className=\"QuantitySelect\"\n        value={this.state.value}\n        name=\"quantity\"\n        id=\"quantity\"\n        onChange={e => this.onChangeValue(e)}\n      >\n        <option value=\"4\" name=\"quantity\">\n          4\n        </option>\n        <option value=\"8\" name=\"quantity\">\n          8\n        </option>\n        <option value=\"12\" name=\"quantity\">\n          12\n        </option>\n        <option value=\"20\" name=\"quantity\">\n          20\n        </option>\n      </select>\n    );\n  }\n}\n\nQuantityPerPage.propTypes = {\n  onChange: propTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport propTypes from 'prop-types';\nimport QuantityPerPage from '../QuantityPerPage';\nimport s from './SearchBar.module.css';\n\nexport default class SearchBar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChangeQuery = e => this.setState({ query: e.currentTarget.value });\n\n  handleSubmitForm = e => {\n    e.preventDefault();\n    const { query } = this.state;\n    if (!query) return;\n    this.props.onSubmitForm(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={e => this.handleSubmitForm(e)}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            value={query}\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={e => this.handleChangeQuery(e)}\n          />\n        </form>\n        <QuantityPerPage onChange={this.props.onChangeQuantity} />\n      </header>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  onSubmitForm: propTypes.func.isRequired,\n  onChangeQuantity: propTypes.func.isRequired,\n};\n","import propTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  previewUrl,\n  imageUrl,\n  onClickImage,\n}) {\n  return (\n    <li className={s.ImageGalleryItem} onClick={e => onClickImage(e)}>\n      <img\n        src={previewUrl}\n        alt=\"\"\n        className={s.imageImageGalleryItem}\n        data-url={imageUrl}\n        width=\"150\"\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  previewUrl: propTypes.string,\n  imageUrl: propTypes.string,\n  onClickImage: propTypes.func,\n};\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport propTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ galleryPhotos, onOpenModal }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {galleryPhotos.map(({ id, largeImageURL, webformatURL }) => (\n        <ImageGalleryItem\n          key={id}\n          previewUrl={webformatURL}\n          imageUrl={largeImageURL}\n          onClickImage={onOpenModal}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  onOpenModal: propTypes.func,\n  galleryPhotos: propTypes.arrayOf(\n    propTypes.exact({\n      id: propTypes.number,\n      webformatURL: propTypes.string,\n      largeImageURL: propTypes.string,\n    }),\n  ),\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst galleryApi = {\n  API_KEY: '18570848-b4ac6f1815e8e933245c4f233',\n\n  async fetchGallery(query = '', pageNumber = 1, quantity = 4) {\n    return await axios\n      .get(\n        `/?q=${query}&page=${pageNumber}&key=${this.API_KEY}&image_type=photo&orientation=horizontal&per_page=${quantity}`,\n      )\n      .then(({ data }) => data.hits)\n      .then(result =>\n        result.map(({ id, largeImageURL, webformatURL }) => ({\n          id,\n          largeImageURL,\n          webformatURL,\n        })),\n      );\n  },\n};\n\nexport default galleryApi;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={() => onLoadMore()}>\n      load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: propTypes.func,\n};\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n\n  handleBackDropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={e => this.handleBackDropClick(e)}>\n        <div className={Modal}>\n          <div\n            className={s.ModalButtonWrapper}\n            onClick={() => this.props.onCloseModal()}\n          >\n            <AiOutlineCloseCircle color=\"white\" size=\"25px\" />\n          </div>\n          <img src={this.props.imageUrl} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import Loader from 'react-loader-spinner';\nimport { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div className={s.loaderContainer}>\n        <Loader\n          visible={this.props.isLoading}\n          type=\"BallTriangle\"\n          color=\"#00BFFF\"\n          height={50}\n          width={50}\n          timeout={0}\n        />\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\n\nimport SearchBar from './Searchbar/';\nimport ImageGallery from './ImageGallery';\nimport pixabayApi from '../pixabay-api';\nimport Button from './Button/';\nimport Modal from './Modal';\nimport Loader from './Loader';\n\nexport default class App extends Component {\n  state = {\n    gallery: [],\n    page: 1,\n    searchQuery: '',\n    showModal: false,\n    modalImageUrl: '',\n    isLoading: false,\n    quantity: 8,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, searchQuery, quantity } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.fetchGallery();\n    }\n\n    if (prevState.page !== page) {\n      this.scrollToNextPage();\n    }\n\n    if (prevState.quantity !== quantity && searchQuery) {\n      this.fetchGallery();\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  fetchGallery = () => {\n    const { page, searchQuery, quantity } = this.state;\n\n    this.setState({ isLoading: true });\n\n    pixabayApi\n      .fetchGallery(searchQuery, page, quantity)\n      .then(images => {\n        this.setState(({ gallery, page }) => ({\n          gallery: [...gallery, ...images],\n          page: page + 1,\n        }));\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleLoadMoreBtn = () => {\n    this.fetchGallery();\n\n    this.setState(({ page }) => ({\n      page: page + 1,\n    }));\n  };\n\n  handleOpenModal = e => {\n    const url = e.target.dataset.url;\n\n    this.toggleModal();\n    this.setState({ modalImageUrl: url });\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      gallery: [],\n      page: 1,\n    });\n  };\n\n  onChangeQuantity = value => this.setState({ quantity: value });\n\n  scrollToNextPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { gallery, showModal, modalImageUrl, isLoading } = this.state;\n\n    return (\n      <>\n        <SearchBar\n          onSubmitForm={this.onChangeQuery}\n          onChangeQuantity={this.onChangeQuantity}\n        />\n        <main>\n          <ImageGallery\n            galleryPhotos={gallery}\n            onOpenModal={this.handleOpenModal}\n          />\n          <Loader isLoading={isLoading} />\n\n          {gallery.length > 0 && !isLoading && (\n            <Button onLoadMore={this.fetchGallery} />\n          )}\n\n          {showModal && (\n            <Modal imageUrl={modalImageUrl} onCloseModal={this.toggleModal} />\n          )}\n        </main>\n      </>\n    );\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2mx_K\",\"SearchForm\":\"SearchBar_SearchForm__8U-hq\",\"SearchForm_button\":\"SearchBar_SearchForm_button__2DtYE\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__3aJOx\",\"SearchForm_input\":\"SearchBar_SearchForm_input__2tXa1\"};"],"sourceRoot":""}